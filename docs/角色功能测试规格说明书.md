# 角色功能测试规格说明书

## 1. 测试概述

**项目名称**: myJavaProject 
**测试范围**: 用户、服务商、管理员三种角色的功能操作  
**测试类型**: 功能测试、界面测试、权限测试、业务流程测试

## 2. 角色权限矩阵

| 功能模块 | 用户 | 服务商 | 管理员 |
|---------|------|--------|--------|
| 商品浏览 | ✓ | ✓ | ✓ |
| 购物车管理 | ✓ | ✗ | ✓ |
| 订单管理 | ✓ | ✓ | ✓ |
| 商品管理 | ✗ | ✓ | ✓ |
| 用户管理 | ✗ | ✗ | ✓ |
| 系统配置 | ✗ | ✗ | ✓ |

## 3. 用户角色测试用例

### 3.1 用户注册登录模块

#### 3.1.1 用户注册功能
**测试类**: `UserRegistrationTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_UR_001 | 正常注册流程 | 1.填写注册信息<br>2.点击注册按钮<br>3.邮箱验证 | 有效邮箱、密码、手机号 | 注册成功，跳转登录页 | 高 |
| TC_UR_002 | 邮箱格式验证 | 1.输入无效邮箱<br>2.点击注册 | 无效邮箱格式 | 显示邮箱格式错误提示 | 高 |
| TC_UR_003 | 密码强度验证 | 1.输入弱密码<br>2.点击注册 | 简单密码(123456) | 显示密码强度不足提示 | 中 |
| TC_UR_004 | 重复邮箱验证 | 1.输入已存在邮箱<br>2.点击注册 | 已注册邮箱 | 显示邮箱已存在提示 | 高 |

#### 3.1.2 用户登录功能
**测试类**: `UserLoginTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_UL_001 | 正常登录 | 1.输入用户名密码<br>2.点击登录 | 正确凭据 | 登录成功，跳转首页 | 高 |
| TC_UL_002 | 错误密码登录 | 1.输入错误密码<br>2.点击登录 | 错误密码 | 显示密码错误提示 | 高 |
| TC_UL_003 | 记住密码功能 | 1.勾选记住密码<br>2.登录<br>3.关闭浏览器重开 | 正确凭据 | 自动填充登录信息 | 中 |
| TC_UL_004 | 验证码验证 | 1.连续输错3次密码<br>2.出现验证码<br>3.输入验证码登录 | 正确验证码 | 登录成功 | 中 |

### 3.2 购物车管理模块

#### 3.2.1 购物车基础操作
**测试类**: `ShoppingCartTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_SC_001 | 添加商品到购物车 | 1.浏览商品详情<br>2.选择规格<br>3.点击加入购物车 | 商品ID、数量、规格 | 购物车商品数量+1 | 高 |
| TC_SC_002 | 购物车商品单选 | 1.进入购物车页面<br>2.点击单个商品复选框 | 商品复选框 | 该商品被选中，总价更新 | 高 |
| TC_SC_003 | 购物车商品全选 | 1.进入购物车页面<br>2.点击全选复选框 | 全选复选框 | 所有商品被选中，总价更新 | 高 |
| TC_SC_004 | 购物车商品取消选择 | 1.选中商品<br>2.再次点击复选框 | 商品复选框 | 商品取消选中，总价更新 | 中 |
| TC_SC_005 | 增加商品数量 | 1.点击商品数量+按钮 | 数量增加 | 商品数量+1，小计更新 | 高 |
| TC_SC_006 | 减少商品数量 | 1.点击商品数量-按钮 | 数量减少 | 商品数量-1，小计更新 | 高 |
| TC_SC_007 | 手动输入商品数量 | 1.直接在数量框输入数字 | 有效数量 | 商品数量更新，小计更新 | 中 |
| TC_SC_008 | 删除购物车商品 | 1.点击商品删除按钮<br>2.确认删除 | 删除确认 | 商品从购物车移除 | 高 |
| TC_SC_009 | 批量删除商品 | 1.选中多个商品<br>2.点击批量删除<br>3.确认删除 | 多选+删除确认 | 选中商品全部删除 | 中 |
| TC_SC_010 | 清空购物车 | 1.点击清空购物车<br>2.确认清空 | 清空确认 | 购物车变为空 | 中 |

#### 3.2.2 购物车高级功能
**测试类**: `ShoppingCartAdvancedTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_SCA_001 | 购物车商品库存检查 | 1.商品数量超过库存<br>2.点击结算 | 超库存数量 | 显示库存不足提示 | 高 |
| TC_SCA_002 | 购物车优惠券应用 | 1.选择商品<br>2.选择优惠券<br>3.查看价格变化 | 有效优惠券 | 总价按优惠券折扣计算 | 中 |
| TC_SCA_003 | 购物车运费计算 | 1.选择收货地址<br>2.查看运费 | 不同地址 | 根据地址显示对应运费 | 中 |
| TC_SCA_004 | 购物车商品失效处理 | 1.商品下架后<br>2.查看购物车 | 已下架商品 | 显示商品失效提示 | 中 |

### 3.3 订单管理模块

#### 3.3.1 订单创建流程
**测试类**: `OrderCreationTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_OC_001 | 正常下单流程 | 1.选择商品结算<br>2.选择收货地址<br>3.选择支付方式<br>4.提交订单 | 完整订单信息 | 订单创建成功 | 高 |
| TC_OC_002 | 收货地址管理 | 1.添加新地址<br>2.编辑地址<br>3.删除地址<br>4.设置默认地址 | 地址信息 | 地址操作成功 | 高 |
| TC_OC_003 | 支付方式选择 | 1.选择不同支付方式<br>2.查看支付信息变化 | 支付方式 | 支付信息正确显示 | 中 |

#### 3.3.2 订单状态管理
**测试类**: `OrderStatusTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_OS_001 | 查看订单列表 | 1.进入我的订单<br>2.查看不同状态订单 | 订单状态筛选 | 正确显示对应状态订单 | 高 |
| TC_OS_002 | 订单详情查看 | 1.点击订单详情<br>2.查看订单信息 | 订单ID | 显示完整订单信息 | 高 |
| TC_OS_003 | 取消订单 | 1.选择未支付订单<br>2.点击取消<br>3.选择取消原因 | 取消原因 | 订单状态变为已取消 | 高 |
| TC_OS_004 | 申请退款 | 1.选择已支付订单<br>2.申请退款<br>3.填写退款原因 | 退款信息 | 退款申请提交成功 | 中 |
| TC_OS_005 | 确认收货 | 1.选择已发货订单<br>2.点击确认收货 | 确认操作 | 订单状态变为已完成 | 高 |
| TC_OS_006 | 订单评价 | 1.选择已完成订单<br>2.进行商品评价 | 评价内容、星级 | 评价提交成功 | 中 |

### 3.4 个人中心模块

#### 3.4.1 个人信息管理
**测试类**: `UserProfileTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_UP_001 | 修改个人信息 | 1.进入个人信息页<br>2.修改昵称、头像等<br>3.保存 | 新的个人信息 | 信息更新成功 | 中 |
| TC_UP_002 | 修改密码 | 1.进入密码修改页<br>2.输入旧密码和新密码<br>3.确认修改 | 密码信息 | 密码修改成功 | 高 |
| TC_UP_003 | 绑定手机号 | 1.输入手机号<br>2.获取验证码<br>3.输入验证码绑定 | 手机号、验证码 | 手机号绑定成功 | 中 |

## 4. 服务商角色测试用例

### 4.1 商品管理模块

#### 4.1.1 商品基础管理
**测试类**: `MerchantProductTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_MP_001 | 添加新商品 | 1.进入商品管理<br>2.点击添加商品<br>3.填写商品信息<br>4.上传图片<br>5.保存 | 完整商品信息 | 商品添加成功 | 高 |
| TC_MP_002 | 编辑商品信息 | 1.选择商品<br>2.点击编辑<br>3.修改信息<br>4.保存 | 修改后的商品信息 | 商品信息更新成功 | 高 |
| TC_MP_003 | 商品上架下架 | 1.选择商品<br>2.点击上架/下架按钮 | 上架/下架操作 | 商品状态改变 | 高 |
| TC_MP_004 | 批量管理商品 | 1.选择多个商品<br>2.批量上架/下架/删除 | 批量操作 | 选中商品状态统一改变 | 中 |
| TC_MP_005 | 商品分类管理 | 1.设置商品分类<br>2.修改分类<br>3.查看分类商品 | 分类信息 | 分类设置成功 | 中 |

#### 4.1.2 库存管理
**测试类**: `InventoryManagementTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_IM_001 | 库存数量调整 | 1.进入库存管理<br>2.调整商品库存<br>3.保存 | 新库存数量 | 库存更新成功 | 高 |
| TC_IM_002 | 库存预警设置 | 1.设置库存预警值<br>2.保存设置 | 预警数量 | 预警设置生效 | 中 |
| TC_IM_003 | 库存盘点 | 1.进行库存盘点<br>2.记录实际库存<br>3.生成盘点报告 | 实际库存数据 | 盘点报告生成 | 中 |

### 4.2 订单处理模块

#### 4.2.1 订单管理
**测试类**: `MerchantOrderTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_MO_001 | 查看新订单 | 1.进入订单管理<br>2.查看待处理订单 | 订单筛选条件 | 显示新订单列表 | 高 |
| TC_MO_002 | 订单发货 | 1.选择已支付订单<br>2.填写物流信息<br>3.确认发货 | 物流单号、快递公司 | 订单状态变为已发货 | 高 |
| TC_MO_003 | 订单备注 | 1.选择订单<br>2.添加备注信息<br>3.保存 | 备注内容 | 备注保存成功 | 中 |
| TC_MO_004 | 退款处理 | 1.查看退款申请<br>2.审核退款<br>3.确认退款 | 退款审核结果 | 退款处理完成 | 高 |

### 4.3 店铺管理模块

#### 4.3.1 店铺信息管理
**测试类**: `ShopManagementTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_SM_001 | 店铺信息设置 | 1.进入店铺设置<br>2.修改店铺名称、简介等<br>3.保存 | 店铺信息 | 店铺信息更新成功 | 中 |
| TC_SM_002 | 店铺装修 | 1.选择店铺模板<br>2.自定义布局<br>3.预览保存 | 装修配置 | 店铺页面更新 | 低 |
| TC_SM_003 | 营业时间设置 | 1.设置营业时间<br>2.设置休息日<br>3.保存 | 营业时间配置 | 营业时间生效 | 中 |

### 4.4 数据统计模块

#### 4.4.1 销售数据分析
**测试类**: `SalesAnalyticsTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_SA_001 | 销售报表查看 | 1.选择时间范围<br>2.查看销售数据<br>3.导出报表 | 时间范围 | 显示销售统计图表 | 中 |
| TC_SA_002 | 商品销量排行 | 1.查看商品销量排行<br>2.按不同维度排序 | 排序条件 | 显示商品排行榜 | 中 |
| TC_SA_003 | 客户分析 | 1.查看客户购买行为<br>2.分析客户群体 | 分析维度 | 显示客户分析报告 | 低 |

## 5. 管理员角色测试用例

### 5.1 用户管理模块

#### 5.1.1 用户账户管理
**测试类**: `AdminUserManagementTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_AUM_001 | 查看用户列表 | 1.进入用户管理<br>2.查看用户列表<br>3.搜索筛选用户 | 搜索条件 | 显示符合条件的用户 | 高 |
| TC_AUM_002 | 用户账户冻结 | 1.选择用户<br>2.点击冻结账户<br>3.填写冻结原因 | 冻结原因 | 用户账户被冻结 | 高 |
| TC_AUM_003 | 用户账户解冻 | 1.选择冻结用户<br>2.点击解冻<br>3.确认解冻 | 解冻确认 | 用户账户恢复正常 | 高 |
| TC_AUM_004 | 重置用户密码 | 1.选择用户<br>2.重置密码<br>3.发送新密码 | 重置操作 | 密码重置成功 | 中 |
| TC_AUM_005 | 用户权限管理 | 1.选择用户<br>2.修改用户权限<br>3.保存 | 权限配置 | 用户权限更新 | 中 |

### 5.2 服务商管理模块

#### 5.2.1 服务商审核
**测试类**: `MerchantAuditTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_MA_001 | 服务商入驻审核 | 1.查看入驻申请<br>2.审核资质材料<br>3.通过/拒绝申请 | 审核结果 | 服务商状态更新 | 高 |
| TC_MA_002 | 服务商资质管理 | 1.查看服务商资质<br>2.验证证件有效性<br>3.更新资质状态 | 资质验证结果 | 资质状态更新 | 高 |
| TC_MA_003 | 服务商等级管理 | 1.评估服务商表现<br>2.调整服务商等级<br>3.保存 | 等级调整 | 服务商等级更新 | 中 |

### 5.3 商品审核模块

#### 5.3.1 商品内容审核
**测试类**: `ProductAuditTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_PA_001 | 新商品审核 | 1.查看待审核商品<br>2.检查商品信息<br>3.通过/拒绝审核 | 审核结果 | 商品审核状态更新 | 高 |
| TC_PA_002 | 违规商品处理 | 1.发现违规商品<br>2.下架商品<br>3.通知服务商 | 违规处理 | 商品被下架 | 高 |
| TC_PA_003 | 商品分类管理 | 1.创建商品分类<br>2.编辑分类<br>3.删除分类 | 分类信息 | 分类管理成功 | 中 |

### 5.4 系统配置模块

#### 5.4.1 平台参数配置
**测试类**: `SystemConfigTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_SC_001 | 平台基础配置 | 1.设置平台名称<br>2.配置LOGO<br>3.设置联系方式 | 平台配置信息 | 配置保存成功 | 中 |
| TC_SC_002 | 支付配置管理 | 1.配置支付接口<br>2.设置手续费<br>3.测试支付 | 支付配置 | 支付功能正常 | 高 |
| TC_SC_003 | 物流配置 | 1.添加物流公司<br>2.配置运费模板<br>3.设置配送范围 | 物流配置 | 物流配置生效 | 中 |
| TC_SC_004 | 短信邮件配置 | 1.配置短信接口<br>2.设置邮件服务<br>3.测试发送 | 通信配置 | 消息发送正常 | 中 |

### 5.5 数据统计分析模块

#### 5.5.1 平台数据分析
**测试类**: `PlatformAnalyticsTest`

| 测试用例ID | 测试描述 | 操作步骤 | 输入数据 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|----------|--------|
| TC_PAL_001 | 平台总览数据 | 1.查看平台首页<br>2.查看关键指标<br>3.导出数据 | 时间范围 | 显示平台运营数据 | 中 |
| TC_PAL_002 | 用户行为分析 | 1.分析用户访问路径<br>2.查看用户留存<br>3.生成报告 | 分析维度 | 生成用户行为报告 | 中 |
| TC_PAL_003 | 财务数据统计 | 1.查看收入统计<br>2.分析成本结构<br>3.计算利润 | 财务周期 | 显示财务分析报告 | 高 |

## 6. 跨角色权限测试

### 6.1 权限边界测试
**测试类**: `RolePermissionTest`

| 测试用例ID | 测试描述 | 测试场景 | 期望结果 | 优先级 |
|-----------|---------|----------|----------|--------|
| TC_RP_001 | 用户访问管理员功能 | 用户尝试访问用户管理页面 | 访问被拒绝，返回403 | 高 |
| TC_RP_002 | 服务商访问其他店铺数据 | 服务商A访问服务商B的商品 | 无法查看其他店铺数据 | 高 |
| TC_RP_003 | 未登录用户权限 | 未登录访问需要权限的页面 | 跳转到登录页面 | 高 |
| TC_RP_004 | Token过期处理 | 使用过期Token访问接口 | 返回401，要求重新登录 | 高 |

## 7. 业务流程测试

### 7.1 完整购买流程
**测试类**: `CompletePurchaseFlowTest`

| 测试用例ID | 测试描述 | 流程步骤 | 涉及角色 | 验证点 |
|-----------|---------|----------|----------|--------|
| TC_CPF_001 | 端到端购买流程 | 1.用户浏览商品<br>2.加入购物车<br>3.下单支付<br>4.服务商发货<br>5.用户确认收货 | 用户+服务商 | 整个流程顺畅完成 |

### 7.2 退款流程测试
**测试类**: `RefundFlowTest`

| 测试用例ID | 测试描述 | 流程步骤 | 涉及角色 | 验证点 |
|-----------|---------|----------|----------|--------|
| TC_RF_001 | 完整退款流程 | 1.用户申请退款<br>2.服务商审核<br>3.管理员仲裁<br>4.退款到账 | 用户+服务商+管理员 | 退款流程正确执行 |

## 8. 测试执行策略

### 8.1 测试优先级
- **P0 (高)**: 核心业务流程、权限安全、支付相关
- **P1 (中)**: 基础功能操作、数据管理
- **P2 (低)**: 界面优化、统计分析

### 8.2 自动化测试覆盖
- 用户注册登录: 100%自动化
- 购物车操作: 80%自动化  
- 权限验证: 100%自动化
- 订单流程: 70%自动化

### 8.3 测试环境要求
- 独立的测试数据库
- 模拟支付接口
- 测试用户账号体系
- 完整的权限配置