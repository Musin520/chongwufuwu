<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é«˜çº§ç­›é€‰åŠŸèƒ½æµ‹è¯•</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0-alpha3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
    <style>
        /* ä»·æ ¼ç­›é€‰ç›¸å…³æ ·å¼ */
        .price-filter-input {
            transition: all 0.3s ease;
        }

        .price-filter-input:focus {
            border-color: #28a745;
            box-shadow: 0 0 0 0.2rem rgba(40,167,69,0.25);
        }

        .quick-price-btn {
            transition: all 0.3s ease;
            border-radius: 20px;
        }

        .quick-price-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,123,255,0.3);
        }

        .form-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .input-group-text {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-color: #ced4da;
            font-weight: 500;
        }

        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            background-color: #f8f9fa;
        }

        .result-display {
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container mt-4" id="app">
        <h1 class="text-center mb-4">ğŸ” é«˜çº§ç­›é€‰åŠŸèƒ½æµ‹è¯•</h1>
        
        <!-- æµ‹è¯•è¯´æ˜ -->
        <div class="test-section">
            <h3>ğŸ§ª æµ‹è¯•è¯´æ˜</h3>
            <div class="alert alert-success" role="alert">
                <h5><i class="fa fa-star"></i> æ–°åŠŸèƒ½äº®ç‚¹</h5>
                <p class="mb-0">ç°åœ¨åªéœ€è®¾ç½®å¥½æ—¶é—´å’Œä»·æ ¼ï¼Œç›´æ¥ç‚¹å‡» <strong>"åº”ç”¨ç­›é€‰å¹¶æŸ¥çœ‹ç»“æœ"</strong> å³å¯ä¸€é”®åº”ç”¨æ‰€æœ‰ç­›é€‰æ¡ä»¶ï¼</p>
            </div>
            <ul>
                <li><strong>ä¸€é”®ç­›é€‰</strong>: è®¾ç½®æ—¶é—´å’Œä»·æ ¼åï¼Œç‚¹å‡»"åº”ç”¨ç­›é€‰å¹¶æŸ¥çœ‹ç»“æœ"è‡ªåŠ¨åº”ç”¨æ‰€æœ‰æ¡ä»¶</li>
                <li><strong>è‡ªå®šä¹‰æ—¶é—´ç­›é€‰</strong>: é€‰æ‹©æ—¶é—´èŒƒå›´ï¼Œæ”¯æŒå®æ—¶éªŒè¯</li>
                <li><strong>è‡ªå®šä¹‰ä»·æ ¼ç­›é€‰</strong>: è¾“å…¥ä»·æ ¼èŒƒå›´ï¼Œæ”¯æŒå•è¾¹æˆ–åŒè¾¹ç­›é€‰</li>
                <li><strong>å¿«æ·ä»·æ ¼ç­›é€‰</strong>: ç‚¹å‡»é¢„è®¾ä»·æ ¼æŒ‰é’®ï¼Œå¿«é€Ÿè®¾ç½®ä»·æ ¼èŒƒå›´</li>
                <li><strong>ç«‹å³åº”ç”¨æŒ‰é’®</strong>: å¯é€‰çš„å¿«é€Ÿåº”ç”¨å•ä¸ªç­›é€‰æ¡ä»¶</li>
                <li><strong>é”™è¯¯å¤„ç†</strong>: è¾“å…¥æ— æ•ˆæ•°æ®æ—¶çš„å‹å¥½æç¤º</li>
            </ul>
        </div>

        <!-- é«˜çº§ç­›é€‰åŒºåŸŸ -->
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">
                    <i class="fa fa-cogs"></i> é«˜çº§ç­›é€‰æµ‹è¯•åŒºåŸŸ
                </h4>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <!-- è‡ªå®šä¹‰æ—¶é—´æ®µç­›é€‰ -->
                    <div class="col-md-6">
                        <label class="form-label">
                            <i class="fa fa-clock-o text-primary"></i> è‡ªå®šä¹‰æ—¶é—´ç­›é€‰
                        </label>
                        <div class="row g-2">
                            <div class="col-6">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text">
                                        <i class="fa fa-play text-success"></i>
                                    </span>
                                    <input type="time" 
                                           class="form-control" 
                                           v-model="customTimeRange.start" 
                                           @change="validateTimeRange"
                                           placeholder="å¼€å§‹æ—¶é—´">
                                </div>
                                <small class="text-muted">å¼€å§‹æ—¶é—´</small>
                            </div>
                            <div class="col-6">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text">
                                        <i class="fa fa-stop text-danger"></i>
                                    </span>
                                    <input type="time" 
                                           class="form-control" 
                                           v-model="customTimeRange.end" 
                                           @change="validateTimeRange"
                                           placeholder="ç»“æŸæ—¶é—´">
                                </div>
                                <small class="text-muted">ç»“æŸæ—¶é—´</small>
                            </div>
                        </div>
                        <div class="mt-2">
                            <button type="button"
                                    class="btn btn-outline-primary btn-sm me-2"
                                    @click="applyCustomTimeFilter"
                                    :disabled="!customTimeRange.start || !customTimeRange.end"
                                    title="ç«‹å³åº”ç”¨æ—¶é—´ç­›é€‰ï¼ˆå¯é€‰ï¼‰">
                                <i class="fa fa-clock-o"></i> ç«‹å³åº”ç”¨
                            </button>
                            <button type="button"
                                    class="btn btn-outline-secondary btn-sm"
                                    @click="clearCustomTimeFilter">
                                <i class="fa fa-times"></i> æ¸…é™¤
                            </button>
                        </div>
                        <div v-if="customTimeRange.start && customTimeRange.end && !timeRangeError" class="mt-2">
                            <small class="text-success">
                                <i class="fa fa-check-circle"></i> 
                                ç­›é€‰æ—¶é—´æ®µ: {{customTimeRange.start}} - {{customTimeRange.end}}
                            </small>
                        </div>
                        <div v-if="timeRangeError" class="mt-2">
                            <small class="text-danger">
                                <i class="fa fa-exclamation-triangle"></i> 
                                {{timeRangeError}}
                            </small>
                        </div>
                    </div>

                    <!-- è‡ªå®šä¹‰ä»·æ ¼ç­›é€‰ -->
                    <div class="col-md-6">
                        <label class="form-label">
                            <i class="fa fa-money text-success"></i> è‡ªå®šä¹‰ä»·æ ¼ç­›é€‰
                        </label>
                        <div class="row g-2">
                            <div class="col-6">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text">
                                        <i class="fa fa-arrow-down text-success"></i>
                                    </span>
                                    <input type="number" 
                                           class="form-control price-filter-input" 
                                           v-model.number="customPriceRange.min" 
                                           @input="validatePriceRange"
                                           placeholder="æœ€ä½ä»·æ ¼"
                                           min="0"
                                           step="0.01">
                                </div>
                                <small class="text-muted">æœ€ä½ä»·æ ¼ (å…ƒ)</small>
                            </div>
                            <div class="col-6">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text">
                                        <i class="fa fa-arrow-up text-danger"></i>
                                    </span>
                                    <input type="number" 
                                           class="form-control price-filter-input" 
                                           v-model.number="customPriceRange.max" 
                                           @input="validatePriceRange"
                                           placeholder="æœ€é«˜ä»·æ ¼"
                                           min="0"
                                           step="0.01">
                                </div>
                                <small class="text-muted">æœ€é«˜ä»·æ ¼ (å…ƒ)</small>
                            </div>
                        </div>
                        <div class="mt-2">
                            <button type="button"
                                    class="btn btn-outline-success btn-sm me-2"
                                    @click="applyCustomPriceFilter"
                                    :disabled="!isValidPriceRange"
                                    title="ç«‹å³åº”ç”¨ä»·æ ¼ç­›é€‰ï¼ˆå¯é€‰ï¼‰">
                                <i class="fa fa-money"></i> ç«‹å³åº”ç”¨
                            </button>
                            <button type="button"
                                    class="btn btn-outline-secondary btn-sm"
                                    @click="clearCustomPriceFilter">
                                <i class="fa fa-times"></i> æ¸…é™¤
                            </button>
                        </div>
                        <div v-if="customPriceRange.min !== null && customPriceRange.max !== null && !priceRangeError" class="mt-2">
                            <small class="text-success">
                                <i class="fa fa-check-circle"></i> 
                                ä»·æ ¼èŒƒå›´: Â¥{{customPriceRange.min}} - Â¥{{customPriceRange.max}}
                            </small>
                        </div>
                        <div v-if="priceRangeError" class="mt-2">
                            <small class="text-danger">
                                <i class="fa fa-exclamation-triangle"></i> 
                                {{priceRangeError}}
                            </small>
                        </div>
                    </div>

                    <!-- å¿«æ·ä»·æ ¼ç­›é€‰ -->
                    <div class="col-12">
                        <label class="form-label">
                            <i class="fa fa-flash text-warning"></i> å¿«æ·ä»·æ ¼ç­›é€‰
                        </label>
                        <div class="d-flex flex-wrap gap-2">
                            <button type="button" 
                                    class="btn btn-outline-info btn-sm quick-price-btn" 
                                    @click="applyQuickPriceFilter(0, 50)">
                                <i class="fa fa-tag"></i> Â¥0-50
                            </button>
                            <button type="button" 
                                    class="btn btn-outline-info btn-sm quick-price-btn" 
                                    @click="applyQuickPriceFilter(50, 100)">
                                <i class="fa fa-tag"></i> Â¥50-100
                            </button>
                            <button type="button" 
                                    class="btn btn-outline-info btn-sm quick-price-btn" 
                                    @click="applyQuickPriceFilter(100, 200)">
                                <i class="fa fa-tag"></i> Â¥100-200
                            </button>
                            <button type="button" 
                                    class="btn btn-outline-info btn-sm quick-price-btn" 
                                    @click="applyQuickPriceFilter(200, 500)">
                                <i class="fa fa-tag"></i> Â¥200-500
                            </button>
                            <button type="button" 
                                    class="btn btn-outline-info btn-sm quick-price-btn" 
                                    @click="applyQuickPriceFilter(500, null)">
                                <i class="fa fa-tag"></i> Â¥500ä»¥ä¸Š
                            </button>
                        </div>
                    </div>

                    <!-- æ“ä½œæŒ‰é’® -->
                    <div class="col-12">
                        <hr class="my-3">
                        <label class="form-label">
                            <i class="fa fa-cogs text-secondary"></i> æ“ä½œ
                        </label>
                        <div class="alert alert-info py-2 mb-3" role="alert">
                            <i class="fa fa-lightbulb-o"></i>
                            <strong>ä½¿ç”¨æç¤ºï¼š</strong> è®¾ç½®å¥½æ—¶é—´å’Œä»·æ ¼åï¼Œç›´æ¥ç‚¹å‡»
                            <span class="badge bg-info">åº”ç”¨ç­›é€‰å¹¶æŸ¥çœ‹ç»“æœ</span>
                            å³å¯ä¸€é”®åº”ç”¨æ‰€æœ‰ç­›é€‰æ¡ä»¶ï¼
                        </div>
                        <div class="d-flex gap-2 flex-wrap">
                            <button type="button" class="btn btn-info btn-lg" @click="applyAndShowFilters">
                                <i class="fa fa-filter"></i> åº”ç”¨ç­›é€‰å¹¶æŸ¥çœ‹ç»“æœ
                            </button>
                            <button type="button" class="btn btn-outline-success" @click="handleSearch">
                                <i class="fa fa-search"></i> æœç´¢å…¨éƒ¨
                            </button>
                            <button type="button" class="btn btn-outline-secondary" @click="handleResetFilter">
                                <i class="fa fa-refresh"></i> é‡ç½®ç­›é€‰
                            </button>
                        </div>
                        <div class="mt-2">
                            <small class="text-muted">
                                <i class="fa fa-info-circle"></i>
                                "åº”ç”¨ç­›é€‰å¹¶æŸ¥çœ‹ç»“æœ"ä¼šè‡ªåŠ¨åº”ç”¨ä¸Šæ–¹è®¾ç½®çš„æ—¶é—´å’Œä»·æ ¼ç­›é€‰æ¡ä»¶
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æµ‹è¯•ç»“æœæ˜¾ç¤º -->
        <div class="test-section">
            <h3>ğŸ“Š æµ‹è¯•ç»“æœ</h3>
            <div class="result-display" id="testResults">
                <p class="text-muted">è¯·è¿›è¡Œæµ‹è¯•æ“ä½œï¼Œç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...</p>
            </div>
        </div>

        <!-- å½“å‰ç­›é€‰çŠ¶æ€ -->
        <div class="test-section">
            <h3>ğŸ“‹ å½“å‰ç­›é€‰çŠ¶æ€</h3>
            <div class="row">
                <div class="col-md-6">
                    <h5>æ—¶é—´ç­›é€‰</h5>
                    <p v-if="queryParams.serviceStartTime && queryParams.serviceEndTime" class="text-success">
                        <i class="fa fa-check"></i> {{queryParams.serviceStartTime}} - {{queryParams.serviceEndTime}}
                    </p>
                    <p v-else class="text-muted">
                        <i class="fa fa-times"></i> æœªè®¾ç½®æ—¶é—´ç­›é€‰
                    </p>
                </div>
                <div class="col-md-6">
                    <h5>ä»·æ ¼ç­›é€‰</h5>
                    <p v-if="queryParams.minPrice !== null || queryParams.maxPrice !== null" class="text-success">
                        <i class="fa fa-check"></i> 
                        <span v-if="queryParams.minPrice !== null && queryParams.maxPrice !== null">
                            Â¥{{queryParams.minPrice}} - Â¥{{queryParams.maxPrice}}
                        </span>
                        <span v-else-if="queryParams.minPrice !== null">
                            Â¥{{queryParams.minPrice}} ä»¥ä¸Š
                        </span>
                        <span v-else>
                            Â¥{{queryParams.maxPrice}} ä»¥ä¸‹
                        </span>
                    </p>
                    <p v-else class="text-muted">
                        <i class="fa fa-times"></i> æœªè®¾ç½®ä»·æ ¼ç­›é€‰
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.14/vue.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0-alpha3/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script>
        // é…ç½®toastr
        toastr.options = {
            "closeButton": true,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "timeOut": "3000"
        };

        new Vue({
            el: '#app',
            data() {
                return {
                    queryParams: {
                        serviceStartTime: '',
                        serviceEndTime: '',
                        minPrice: null,
                        maxPrice: null,
                    },
                    customTimeRange: {
                        start: '',
                        end: ''
                    },
                    customPriceRange: {
                        min: null,
                        max: null
                    },
                    timeRangeError: '',
                    priceRangeError: '',
                }
            },
            computed: {
                isValidPriceRange() {
                    if (this.customPriceRange.min === null && this.customPriceRange.max === null) {
                        return false;
                    }
                    if (this.customPriceRange.min !== null && this.customPriceRange.min < 0) {
                        return false;
                    }
                    if (this.customPriceRange.max !== null && this.customPriceRange.max < 0) {
                        return false;
                    }
                    if (this.customPriceRange.min !== null && this.customPriceRange.max !== null) {
                        return this.customPriceRange.min <= this.customPriceRange.max;
                    }
                    return true;
                }
            },
            methods: {
                addTestResult(message, type = 'info') {
                    const timestamp = new Date().toLocaleTimeString();
                    const icon = type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle';
                    const color = type === 'success' ? 'success' : type === 'error' ? 'danger' : 'info';
                    
                    const testResults = document.getElementById('testResults');
                    testResults.innerHTML += `<p class="mb-1 text-${color}"><span class="badge bg-${color}">${timestamp}</span> <i class="fa fa-${icon}"></i> ${message}</p>`;
                    testResults.scrollTop = testResults.scrollHeight;
                },

                validateTimeRange() {
                    this.timeRangeError = '';
                    
                    if (this.customTimeRange.start && this.customTimeRange.end) {
                        if (this.customTimeRange.start >= this.customTimeRange.end) {
                            this.timeRangeError = 'å¼€å§‹æ—¶é—´å¿…é¡»å°äºç»“æŸæ—¶é—´';
                            this.addTestResult('æ—¶é—´èŒƒå›´éªŒè¯å¤±è´¥: å¼€å§‹æ—¶é—´å¿…é¡»å°äºç»“æŸæ—¶é—´', 'error');
                            return false;
                        } else {
                            this.addTestResult('æ—¶é—´èŒƒå›´éªŒè¯é€šè¿‡', 'success');
                        }
                    }
                    return true;
                },

                validatePriceRange() {
                    this.priceRangeError = '';
                    
                    if (this.customPriceRange.min !== null && this.customPriceRange.min < 0) {
                        this.priceRangeError = 'ä»·æ ¼ä¸èƒ½ä¸ºè´Ÿæ•°';
                        this.addTestResult('ä»·æ ¼éªŒè¯å¤±è´¥: ä»·æ ¼ä¸èƒ½ä¸ºè´Ÿæ•°', 'error');
                        return false;
                    }
                    
                    if (this.customPriceRange.max !== null && this.customPriceRange.max < 0) {
                        this.priceRangeError = 'ä»·æ ¼ä¸èƒ½ä¸ºè´Ÿæ•°';
                        this.addTestResult('ä»·æ ¼éªŒè¯å¤±è´¥: ä»·æ ¼ä¸èƒ½ä¸ºè´Ÿæ•°', 'error');
                        return false;
                    }
                    
                    if (this.customPriceRange.min !== null && this.customPriceRange.max !== null) {
                        if (this.customPriceRange.min > this.customPriceRange.max) {
                            this.priceRangeError = 'æœ€ä½ä»·æ ¼ä¸èƒ½å¤§äºæœ€é«˜ä»·æ ¼';
                            this.addTestResult('ä»·æ ¼èŒƒå›´éªŒè¯å¤±è´¥: æœ€ä½ä»·æ ¼ä¸èƒ½å¤§äºæœ€é«˜ä»·æ ¼', 'error');
                            return false;
                        } else {
                            this.addTestResult('ä»·æ ¼èŒƒå›´éªŒè¯é€šè¿‡', 'success');
                        }
                    }
                    return true;
                },

                applyCustomTimeFilter() {
                    if (!this.validateTimeRange()) {
                        return;
                    }

                    if (!this.customTimeRange.start || !this.customTimeRange.end) {
                        toastr.error("è¯·é€‰æ‹©å®Œæ•´çš„æ—¶é—´èŒƒå›´", 'æç¤º');
                        this.addTestResult('æ—¶é—´ç­›é€‰å¤±è´¥: è¯·é€‰æ‹©å®Œæ•´çš„æ—¶é—´èŒƒå›´', 'error');
                        return;
                    }

                    this.queryParams.serviceStartTime = this.customTimeRange.start;
                    this.queryParams.serviceEndTime = this.customTimeRange.end;

                    toastr.success(`å·²ç­›é€‰ ${this.customTimeRange.start} - ${this.customTimeRange.end} æ—¶é—´æ®µçš„æœåŠ¡`, 'ç­›é€‰æˆåŠŸ');
                    this.addTestResult(`åº”ç”¨æ—¶é—´ç­›é€‰: ${this.customTimeRange.start} - ${this.customTimeRange.end}`, 'success');
                },

                clearCustomTimeFilter() {
                    this.customTimeRange.start = '';
                    this.customTimeRange.end = '';
                    this.queryParams.serviceStartTime = '';
                    this.queryParams.serviceEndTime = '';
                    this.timeRangeError = '';
                    
                    toastr.info("å·²æ¸…é™¤æ—¶é—´ç­›é€‰", 'æç¤º');
                    this.addTestResult('æ¸…é™¤æ—¶é—´ç­›é€‰', 'info');
                },

                applyCustomPriceFilter() {
                    if (!this.validatePriceRange()) {
                        return;
                    }

                    if (this.customPriceRange.min === null && this.customPriceRange.max === null) {
                        toastr.error("è¯·è¾“å…¥ä»·æ ¼èŒƒå›´", 'æç¤º');
                        this.addTestResult('ä»·æ ¼ç­›é€‰å¤±è´¥: è¯·è¾“å…¥ä»·æ ¼èŒƒå›´', 'error');
                        return;
                    }

                    this.queryParams.minPrice = this.customPriceRange.min;
                    this.queryParams.maxPrice = this.customPriceRange.max;

                    let priceText = '';
                    if (this.customPriceRange.min !== null && this.customPriceRange.max !== null) {
                        priceText = `Â¥${this.customPriceRange.min} - Â¥${this.customPriceRange.max}`;
                    } else if (this.customPriceRange.min !== null) {
                        priceText = `Â¥${this.customPriceRange.min} ä»¥ä¸Š`;
                    } else if (this.customPriceRange.max !== null) {
                        priceText = `Â¥${this.customPriceRange.max} ä»¥ä¸‹`;
                    }

                    toastr.success(`å·²ç­›é€‰ä»·æ ¼èŒƒå›´: ${priceText}`, 'ç­›é€‰æˆåŠŸ');
                    this.addTestResult(`åº”ç”¨ä»·æ ¼ç­›é€‰: ${priceText}`, 'success');
                },

                clearCustomPriceFilter() {
                    this.customPriceRange.min = null;
                    this.customPriceRange.max = null;
                    this.queryParams.minPrice = null;
                    this.queryParams.maxPrice = null;
                    this.priceRangeError = '';
                    
                    toastr.info("å·²æ¸…é™¤ä»·æ ¼ç­›é€‰", 'æç¤º');
                    this.addTestResult('æ¸…é™¤ä»·æ ¼ç­›é€‰', 'info');
                },

                applyQuickPriceFilter(minPrice, maxPrice) {
                    this.customPriceRange.min = minPrice;
                    this.customPriceRange.max = maxPrice;
                    this.queryParams.minPrice = minPrice;
                    this.queryParams.maxPrice = maxPrice;
                    this.priceRangeError = '';

                    let priceText = '';
                    if (maxPrice === null) {
                        priceText = `Â¥${minPrice} ä»¥ä¸Š`;
                    } else {
                        priceText = `Â¥${minPrice} - Â¥${maxPrice}`;
                    }

                    toastr.success(`å·²åº”ç”¨å¿«æ·ä»·æ ¼ç­›é€‰: ${priceText}`, 'ç­›é€‰æˆåŠŸ');
                    this.addTestResult(`å¿«æ·ä»·æ ¼ç­›é€‰: ${priceText}`, 'success');
                },

                handleSearch() {
                    toastr.info("æ‰§è¡Œæœç´¢æ“ä½œ", 'æç¤º');
                    this.addTestResult('æ‰§è¡Œæœç´¢æ“ä½œ', 'info');
                },

                handleResetFilter() {
                    this.queryParams.serviceStartTime = '';
                    this.queryParams.serviceEndTime = '';
                    this.queryParams.minPrice = null;
                    this.queryParams.maxPrice = null;
                    this.customTimeRange.start = '';
                    this.customTimeRange.end = '';
                    this.customPriceRange.min = null;
                    this.customPriceRange.max = null;
                    this.timeRangeError = '';
                    this.priceRangeError = '';

                    toastr.info("å·²é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶", 'æç¤º');
                    this.addTestResult('é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶', 'info');
                },

                applyAndShowFilters() {
                    let hasChanges = false;
                    let appliedFilters = [];

                    // è‡ªåŠ¨åº”ç”¨è‡ªå®šä¹‰æ—¶é—´ç­›é€‰
                    if (this.customTimeRange.start && this.customTimeRange.end) {
                        if (this.validateTimeRange()) {
                            this.queryParams.serviceStartTime = this.customTimeRange.start;
                            this.queryParams.serviceEndTime = this.customTimeRange.end;
                            appliedFilters.push(`æ—¶é—´: ${this.customTimeRange.start} - ${this.customTimeRange.end}`);
                            hasChanges = true;
                        } else {
                            toastr.error("æ—¶é—´èŒƒå›´è®¾ç½®æ— æ•ˆï¼Œè¯·æ£€æŸ¥åé‡è¯•", 'ç­›é€‰å¤±è´¥');
                            this.addTestResult('æ—¶é—´èŒƒå›´è®¾ç½®æ— æ•ˆ', 'error');
                            return;
                        }
                    }

                    // è‡ªåŠ¨åº”ç”¨è‡ªå®šä¹‰ä»·æ ¼ç­›é€‰
                    if (this.customPriceRange.min !== null || this.customPriceRange.max !== null) {
                        if (this.validatePriceRange()) {
                            this.queryParams.minPrice = this.customPriceRange.min;
                            this.queryParams.maxPrice = this.customPriceRange.max;

                            let priceText = '';
                            if (this.customPriceRange.min !== null && this.customPriceRange.max !== null) {
                                priceText = `Â¥${this.customPriceRange.min} - Â¥${this.customPriceRange.max}`;
                            } else if (this.customPriceRange.min !== null) {
                                priceText = `Â¥${this.customPriceRange.min} ä»¥ä¸Š`;
                            } else if (this.customPriceRange.max !== null) {
                                priceText = `Â¥${this.customPriceRange.max} ä»¥ä¸‹`;
                            }
                            appliedFilters.push(`ä»·æ ¼: ${priceText}`);
                            hasChanges = true;
                        } else {
                            toastr.error("ä»·æ ¼èŒƒå›´è®¾ç½®æ— æ•ˆï¼Œè¯·æ£€æŸ¥åé‡è¯•", 'ç­›é€‰å¤±è´¥');
                            this.addTestResult('ä»·æ ¼èŒƒå›´è®¾ç½®æ— æ•ˆ', 'error');
                            return;
                        }
                    }

                    // æ”¶é›†æ‰€æœ‰å½“å‰ç­›é€‰æ¡ä»¶
                    let allFilters = [];
                    if (this.queryParams.serviceStartTime && this.queryParams.serviceEndTime) {
                        allFilters.push(`æ—¶é—´: ${this.queryParams.serviceStartTime} - ${this.queryParams.serviceEndTime}`);
                    }
                    if (this.queryParams.minPrice !== null || this.queryParams.maxPrice !== null) {
                        let priceText = '';
                        if (this.queryParams.minPrice !== null && this.queryParams.maxPrice !== null) {
                            priceText = `Â¥${this.queryParams.minPrice} - Â¥${this.queryParams.maxPrice}`;
                        } else if (this.queryParams.minPrice !== null) {
                            priceText = `Â¥${this.queryParams.minPrice} ä»¥ä¸Š`;
                        } else if (this.queryParams.maxPrice !== null) {
                            priceText = `Â¥${this.queryParams.maxPrice} ä»¥ä¸‹`;
                        }
                        allFilters.push(`ä»·æ ¼: ${priceText}`);
                    }

                    // æ˜¾ç¤ºç»“æœ
                    if (hasChanges && appliedFilters.length > 0) {
                        toastr.success(`å·²è‡ªåŠ¨åº”ç”¨: ${appliedFilters.join(', ')}`, 'ç­›é€‰æˆåŠŸ');
                        this.addTestResult(`è‡ªåŠ¨åº”ç”¨ç­›é€‰: ${appliedFilters.join(', ')}`, 'success');
                    }

                    if (allFilters.length === 0) {
                        toastr.info("å½“å‰æ²¡æœ‰åº”ç”¨ä»»ä½•ç­›é€‰æ¡ä»¶ï¼Œæ˜¾ç¤ºå…¨éƒ¨ç»“æœ", 'ç­›é€‰çŠ¶æ€');
                        this.addTestResult('æ²¡æœ‰ç­›é€‰æ¡ä»¶ï¼Œæ˜¾ç¤ºå…¨éƒ¨ç»“æœ', 'info');
                    } else {
                        toastr.info(`å½“å‰ç­›é€‰æ¡ä»¶: ${allFilters.join(', ')}`, 'ç­›é€‰çŠ¶æ€');
                        this.addTestResult(`å½“å‰ç­›é€‰æ¡ä»¶: ${allFilters.join(', ')}`, 'success');
                    }
                },

                showCurrentFilters() {
                    let filters = [];

                    if (this.queryParams.serviceStartTime && this.queryParams.serviceEndTime) {
                        filters.push(`æ—¶é—´: ${this.queryParams.serviceStartTime} - ${this.queryParams.serviceEndTime}`);
                    }
                    if (this.queryParams.minPrice !== null || this.queryParams.maxPrice !== null) {
                        let priceText = '';
                        if (this.queryParams.minPrice !== null && this.queryParams.maxPrice !== null) {
                            priceText = `Â¥${this.queryParams.minPrice} - Â¥${this.queryParams.maxPrice}`;
                        } else if (this.queryParams.minPrice !== null) {
                            priceText = `Â¥${this.queryParams.minPrice} ä»¥ä¸Š`;
                        } else if (this.queryParams.maxPrice !== null) {
                            priceText = `Â¥${this.queryParams.maxPrice} ä»¥ä¸‹`;
                        }
                        filters.push(`ä»·æ ¼: ${priceText}`);
                    }

                    if (filters.length === 0) {
                        toastr.info("å½“å‰æ²¡æœ‰åº”ç”¨ä»»ä½•ç­›é€‰æ¡ä»¶", 'ç­›é€‰çŠ¶æ€');
                        this.addTestResult('å½“å‰æ²¡æœ‰åº”ç”¨ä»»ä½•ç­›é€‰æ¡ä»¶', 'info');
                    } else {
                        toastr.info(`å½“å‰ç­›é€‰æ¡ä»¶: ${filters.join(', ')}`, 'ç­›é€‰çŠ¶æ€');
                        this.addTestResult(`å½“å‰ç­›é€‰æ¡ä»¶: ${filters.join(', ')}`, 'info');
                    }
                }
            },
            mounted() {
                this.addTestResult('é«˜çº§ç­›é€‰åŠŸèƒ½æµ‹è¯•é¡µé¢åˆå§‹åŒ–å®Œæˆ', 'success');
            }
        });
    </script>
</body>
</html>
